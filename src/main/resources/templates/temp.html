<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>BlueCrown</title>
	<link rel="stylesheet" th:href="@{/temp.css}" />
</head>

<body>
	<div id="Main">
		<div id="Sidebar">

			<nav>
				<h1 id="heading">BlueCrown</h1>
				<ul>
					<!-- Use single quotes inside onclick to avoid conflicts -->
					<li><a href="/Admin/profile">Profile</a></li>
					<li><a href="/Admin/CreateClassroom">Create Classroom</a></li>
					<li><a href="/Admin/dashboard">Dashboard</a></li>
					<li><a href="/logout">Logout</a></li>
				</ul>
			</nav>
		</div>

		<div id="content">
			<header>
				<h1 id="selectedOption">Dashboard</h1>
			</header>
			<!-- Changed iframe to a div for content injection -->

			<div id="displayContent">

				<ul id="Classroom-list"></ul>
			</div>
		</div>
	</div>


</body>
<script>
	const notes = undefined;
	fetch("/Admin/Classrooms")
		.then(response => response.json())
		.then(data => {
			const list = document.getElementById("Classroom-list");

			data.forEach(classroom => {
				const item = document.createElement("li");
				const box = document.createElement("div");
				item.innerHTML = `<section id="Classroom-info"><h4>Name: ${classroom.classroomName}</h4><br><h4>Type: ${classroom.classroomType}</h4><br></section>`;

				// Create a new button inside the loop for each classroom
				const but1 = document.createElement("button");
				const but2 = document.createElement("button");
				but1.textContent = "view Notes";
				but2.textContent = "Upload notes"
				const id = classroom.classroomId;

				but1.onclick = () => {
					console.log(id);
					window.location.href = `/Admin/Notesview/${id}`;

				}

				item.id = "Classroom";
				box.id = "Classroom-but-box";
				box.appendChild(but1);
				box.appendChild(but2);
				item.appendChild(box)
				list.appendChild(item);

			});
		})
		.catch(error => {
			console.error("Error in fetching classroom:", error);
		});

	console.log(notes);

</script>

</html>